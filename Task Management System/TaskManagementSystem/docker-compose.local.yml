services:
  client:
    build:
      context: ./client
    volumes:
      - ./client/nginx.local.conf:/etc/nginx/conf.d/default.conf
    environment:
       # Ensure we don't try to depend on the 'backend' service if we aren't starting it,
       # although 'depends_on' in the base file might still complain if we don't start the backend service.
       # We will simply not start the backend service via command line argument.
       dummy: var

  backend:
    # We disable backend here to ensure it doesn't conflict? 
    # Actually we just won't start it.
    deploy:
      replicas: 0
